<mat-card>
  <mat-spinner *ngIf="isLoading"></mat-spinner>

  <form [formGroup]="form" (submit)="onSaveUser()" *ngIf="!isLoading">

    <div>
      <button mat-stroked-button type="button" (click)="filePicker.click()">Pick Image</button>
      <input type="file" #filePicker (change)="onPickedImage($event)">
    </div>

    <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && form.get('image').valid">
      <img [src]="imagePreview" [alt]="form.value.title">
    </div>

    <mat-form-field color="accent">
      <input
      matInput
      type="text"
      formControlName="first_name"
      placeholder="First name"
      minlength="6"
      >

      <mat-error *ngIf="form.get('first_name').invalid">Please enter your first name.</mat-error>

    </mat-form-field>

    <mat-form-field color="accent">
      <input
      matInput
      type="text"
      formControlName="last_name"
      placeholder="Last name"
      minlength="6"
      >

      <mat-error *ngIf="form.get('last_name').invalid">Please enter your last name.</mat-error>

    </mat-form-field>

    <mat-form-field color="accent">
      <input
      matInput
      type="text"
      formControlName="user_name"
      placeholder="Username"
      minlength="4"
      >

      <mat-error *ngIf="form.get('user_name').invalid">Please enter a username.</mat-error>

    </mat-form-field>

    <mat-form-field color="accent">
      <input
      matInput
      type="email"
      formControlName="user_email"
      placeholder="E-mail address"
      minlength="6"
      >

      <mat-error *ngIf="form.get('user_email').invalid">Please enter a valid email address.</mat-error>

    </mat-form-field>

    <mat-form-field color="accent">
      <input
      matInput
      type="text"
      formControlName="user_address"
      placeholder="Street address"
      minlength="6"
      >

      <mat-error *ngIf="form.get('user_address').invalid">Please enter a street address.</mat-error>

    </mat-form-field>

    <mat-form-field color="accent">
      <input
      matInput
      type="text"
      formControlName="user_city"
      placeholder="City"
      minlength="6"
      >

      <mat-error *ngIf="form.get('user_city').invalid">Please enter a city.</mat-error>

    </mat-form-field>

    <mat-form-field color="accent">
      <input
      matInput
      type="text"
      formControlName="user_state"
      placeholder="State"
      minlength="2"
      >

      <mat-error *ngIf="form.get('user_state').invalid">Please enter your state.</mat-error>

    </mat-form-field>

    <mat-form-field color="accent">
      <input
      matInput
      type="text"
      formControlName="user_zip"
      placeholder="Zipcode"
      minlength="5"
      >

      <mat-error *ngIf="form.get('user_zip').invalid">Please enter your zip code.</mat-error>

    </mat-form-field>

    <mat-form-field color="accent">
      <input
      matInput
      type="text"
      formControlName="user_phone"
      placeholder="Phone number"
      minlength="6"
      >

      <mat-error *ngIf="form.get('user_phone').invalid">Please enter a valid phone number.</mat-error>

    </mat-form-field>

    <mat-form-field color="accent">

      <input
      matInput
      type="text"
      formControlName="user_mobile"
      placeholder="Mobile number"
      minlength="6"
      >

      <mat-error *ngIf="form.get('user_mobile').invalid">Please enter a mobile phone number.</mat-error>

    </mat-form-field>
    <div class="cancel">
    <button color="accent" mat-raised-button type="submit" style="margin-right: px;">Save Info</button>
      <a class="col s12 m4 l4" mat-raised-button routerLink="/users-profile">Cancel</a>
    </div>
    </form>

</mat-card>
